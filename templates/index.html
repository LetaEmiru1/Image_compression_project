{% extends "base.html" %}
{% block title %}Image Compressor{% endblock %}
{% block content %}
<h1 class="text-center animate-fade-in">Welcome to the Image Compressor</h1>
<div class="card animate-slide-up shadow-lg">
    <div class="card-body">
        <form id="uploadForm" action="/compress" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="imageInput">Select Images:</label>
                <input type="file" name="files" id="imageInput" class="form-control" accept="image/*" multiple required>
            </div>
            <div class="form-group">
                <label for="qualityInput">Compression Quality (1-100):</label>
                <input type="number" name="quality" id="qualityInput" class="form-control" value="70" min="1" max="100" required>
                <small class="form-text text-muted">Higher quality means larger file size.</small>
            </div>
            <button type="submit" id="compressBtn" class="btn btn-primary btn-block">Compress Images</button>
        </form>
        <div class="alert alert-success mt-3" style="display: none;" id="imageReceivedAlert">
            <span class="mr-2">Images received successfully</span> <i class="fas fa-check-circle"></i>
        </div>
        <div class="progress mt-3" style="display: none;">
            <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div class="alert alert-danger mt-3" style="display: none;"></div>
        <div class="spinner-border text-primary mt-3" role="status" id="loadingSpinner" style="display:none;">
            <span class="sr-only">Loading...</span>
        </div>
        <img id="outputImage" class="img-fluid mt-3 animate-fade-in" src="#" alt="Compressed Image" style="display:none;">
        <a id="downloadLink" href="#" class="btn btn-success mt-3 animate-fade-in" download="compressed_images.zip" style="display:none;">Download Compressed Images</a>
    </div>
</div>
{% endblock %}

